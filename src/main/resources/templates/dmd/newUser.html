<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employe Form</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .form-container {
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
<div class="container form-container">
    <h2 class="text-center mb-4">Employe Form</h2>
    <form id="employeForm" method="post" action="/createOrUpdate">
        <div class="form-group">
            <label for="numMatEmpl">Matricule</label>
            <input type="text" class="form-control" id="numMatEmpl" name="numMatEmpl">
        </div>
        <div class="form-group">
            <label for="nom">Nom</label>
            <input type="text" class="form-control" id="nom" name="nom" required>
        </div>
        <div class="form-group">
            <label for="prenom">Prenom</label>
            <input type="text" class="form-control" id="prenom" name="prenom" required>
        </div>
        <div class="form-group">
            <label for="genre">Genre</label>
            <select class="form-control" id="genre" name="genre" required>
                <option value="">Select Genre</option>
                <option value="MASCULIN">Masculin</option>
                <option value="FEMININ">Feminin</option>
            </select>
        </div>
        <div class="form-group">
            <label for="fonction">Fonction</label>
            <input type="text" class="form-control" id="fonction" name="fonction" required>
        </div>
        <div class="form-group">
            <label for="dateEmbauche">Date Embauche</label>
            <input type="date" class="form-control" id="dateEmbauche" name="dateEmbauche" required>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="form-group">
            <label for="telephoneEmploye">Telephone</label>
            <input type="text" class="form-control" id="telephoneEmploye" name="telephoneEmploye" required>
        </div>
        <div class="form-group">
            <label for="dateNaissance">Date Naissance</label>
            <input type="date" class="form-control" id="dateNaissance" name="dateNaissance" required>
        </div>
        <div class="form-group form-check">
            <input type="checkbox" class="form-check-input" id="estSuperieureHierachique" name="estSuperieureHierachique">
            <label class="form-check-label" for="estSuperieureHierachique">Est Superieure Hierachique</label>
        </div>
        <div class="form-group form-check">
            <input type="checkbox" class="form-check-input" id="estChauffeur" name="estChauffeur">
            <label class="form-check-label" for="estChauffeur">Est Chauffeur</label>
        </div>
        <div class="form-group">
            <label for="statutChauffeur">Statut Chauffeur</label>
            <select class="form-control" id="statutChauffeur" name="statutChauffeur" required>
                <option value="">Select Statut Chauffeur</option>
                <option value="DISPONIBLE">Disponible</option>
                <option value="INDISPONIBLE">Indisponible</option>
            </select>
        </div>
        <div class="form-group form-check">
            <input type="checkbox" class="form-check-input" id="estUtilisateur" name="estUtilisateur">
            <label class="form-check-label" for="estUtilisateur">Est Utilisateur</label>
        </div>
        <div class="form-group">
            <label for="site">Site</label>
            <input type="text" class="form-control" id="site" name="site">
        </div>
        <div class="form-group">
            <label for="direction">Direction</label>
            <input type="text" class="form-control" id="direction" name="direction">
        </div>
        <button type="submit" class="btn btn-primary btn-block">Submit</button>
    </form>
</div>
<script>
document.getElementById('employeForm').addEventListener('submit', function(event) {
event.preventDefault();

const data = {
numMatEmpl: document.getElementById('numMatEmpl').value,
nom: document.getElementById('nom').value,
prenom: document.getElementById('prenom').value,
genre: document.getElementById('genre').value,
fonction: document.getElementById('fonction').value,
dateEmbauche: document.getElementById('dateEmbauche').value,
email: document.getElementById('email').value,
telephoneEmploye: document.getElementById('telephoneEmploye').value,
dateNaissance: document.getElementById('dateNaissance').value,
estSuperieureHierachique: document.getElementById('estSuperieureHierachique').checked,
estChauffeur: document.getElementById('estChauffeur').checked,
statutChauffeur: document.getElementById('statutChauffeur').value,
estUtilisateur: document.getElementById('estUtilisateur').checked,
site: document.getElementById('site').value,
direction: document.getElementById('direction').value
};

fetch('/createOrUpdate', {
method: 'POST',
headers: {
'Content-Type': 'application/json'
},
body: JSON.stringify(data)
})
.then(response => response.json())
.then(data => {
console.log('Success:', data);
window.location.href = '/acces/users';
})
.catch((error) => {
console.error('Error:', error);
});
});
</script>

</body>
</html>
